---
layout: post
title:  "Cosmos-SDK Scavenge 06"
author: violetstair
categories: [ CosmosSDK ]
tags: [Golang, Programming]
image: assets/images/cosmos-sdk.png
description: "COSMOS SDK로 만들어보는 현상금 사냥꾼 게임"
featured: false
hidden: true
---

## Querier

어플리케이션의 데이터를 질의 하려면 `Querier`를 사용하여 접근할 수 있도록 해야 합니다.
이 어플리케이션은 `Keeper`와 함께 작동하여 상태에 접근하고 값을 반환 합니다.
`Querier`는 `./x/scavenge/keeper/querier.go`에 정의 됩니다.
`scaffold`에 의해 생성된 몇 가지 제안을 기반으로 시작할 것 입니다. `Handler`와 유사하게 다른 경로의 쿼리를 처리할 수 있습니다.
다양한 요구조건 및 질의에 의해 `Querier`내에서 다양한 경로를 만들 수 있지만 다음과 같은 세 가지만 만들것 입니다.

- `listScavenges` : 모든 scavenges 목록을 조회
- `getScavenge` : `solutionHash`를 key로 하는 scavenge 조회
- `getCommit` : `solutionScavengerHash`에 의한 단일 commit 조회

다음 코드에서 볼 수 있듯이 switch문을 이용해 각 기능을 선택하고 구체화 할 것입니다.

[querier](https://github.com/cosmos/sdk-tutorials/tree/master/scavenge/x/scavenge/keeper/querier.go)

### Types

`./x/scavenge/types/querier.go` 에서 볼 수 있듯이 질의에 대한 기능을 구현하고 switch문을 통해 기능을 선택할 수 있습니다.

[querier](https://github.com/cosmos/sdk-tutorials/tree/master/scavenge/x/scavenge/types/querier.go)

상태에 접근하는데 필요한 모든 기능들은 이미 `Keeper`에 구현되었기 때문에 querier는 상대적으로 간단합니다.
여기서도 iterator를 사용하는 것을 확인할 수 있습니다.

이제 모듈의 모든 기본적인 작업을 만들었으니 이를 사용할 수 있는 프로그램을 개발할 수 있습니다.
CLI 프로그램과 REST Client를 만들 수 있지만, 이번 튜토리얼에서는 CLI 클라이언트만 만들 것 입니다.
REST client 만드는 방법은 [Nameservice Tutorial](https://github.com/cosmos/sdk-tutorials/tree/master/nameservice/tutorial/intro.md)에서 확인할 수 있습니다.

이제 CLI 프로그램을 만드는 방법을 살펴 볼 차례 입니다.
