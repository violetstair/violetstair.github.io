---
layout: post
title:  "Cosmos-SDK Scavenge 11"
author: violetstair
categories: [ CosmosSDK ]
tags: [Golang, Programming]
image: assets/images/cosmos-sdk.png
description: "COSMOS SDK로 만들어보는 현상금 사냥꾼 게임"
featured: false
hidden: true
---

## Play

노드 어플리케이션이 실행 중입니다!
첫 번재 command는 새로운 scavenge를 생성합니다. 사용자 `me`는 사용자 `you`보다 `foo` 토큰이 많으므로 해당 계정에서 scavenge를 생성해 보겠습니다.
`scavengeCLI tx scavenge --help`를 실행하여 새 모듈에 대해 생성 한 모든 명령을 볼 수 있습니다. 다음 옵션이 표시되어야합니다.

```bash
scavenge transactions subcommands

Usage:
  scavengeCLI tx scavenge [flags]
  scavengeCLI tx scavenge [command]

Available Commands:
  createScavenge Creates a new scavenge with a reward
  commitSolution Commits a solution for scavenge
  revealSolution Reveals a solution for scavenge

Flags:
  -h, --help   help for scavenge

Global Flags:
      --chain-id string   Chain ID of tendermint node
  -e, --encoding string   Binary encoding (hex|b64|btc) (default "hex")
      --home string       directory for config and data (default "/home/billy/.scavengeCLI")
  -o, --output string     Output format (text|json) (default "text")
      --trace             print out full stack trace on errors

Use "scavengeCLI tx scavenge [command] --help" for more information about a command.
```

`scavengeCLI scavenge createScavenge --help` 를 통해 `createScavenge` command의 기능을 확인해 볼 수 있습니다.

```bash
Creates a new scavenge with a reward

Usage:
  scavengeCLI tx scavenge createScavenge [reward] [solution] [description] [flags]

Flags:
  -a, --account-number uint     The account number of the signing account (offline mode only)
  -b, --broadcast-mode string   Transaction broadcasting mode (sync|async|block) (default "sync")
      --dry-run                 ignore the --gas flag and perform a simulation of a transaction, but don't broadcast it
      --fees string             Fees to pay along with transaction; eg: 10uatom
      --from string             Name or address of private key with which to sign
      --gas string              gas limit to set per-transaction; set to "auto" to calculate required gas automatically (default 200000) (default "200000")
      --gas-adjustment float    adjustment factor to be multiplied against the estimate returned by the tx simulation; if the gas limit is set manually this flag is ignored  (default 1)
      --gas-prices string       Gas prices to determine the transaction fee (e.g. 10uatom)
      --generate-only           Build an unsigned transaction and write it to STDOUT (when enabled, the local Keybase is not accessible and the node operates offline)
  -h, --help                    help for createScavenge
      --indent                  Add indent to JSON response
      --ledger                  Use a connected Ledger device
      --memo string             Memo to send along with transaction
      --node string             <host>:<port> to tendermint rpc interface for this chain (default "tcp://localhost:26657")
  -s, --sequence uint           The sequence number of the signing account (offline mode only)
      --trust-node              Trust connected full node (don't verify proofs for responses) (default true)
  -y, --yes                     Skip tx broadcasting prompt confirmation

Global Flags:
      --chain-id string   Chain ID of tendermint node
  -e, --encoding string   Binary encoding (hex|b64|btc) (default "hex")
      --home string       directory for config and data (default "/home/billy/.scavengeCLI")
  -o, --output string     Output format (text|json) (default "text")
```

새로운 scavenge를 만들어 봅겠습니다.
`reward`는 `70foo`, `solution`는 `F.C. Seoul`, `description`는 `Best soccer team in seoul?`로 지정해 보겠습니다.
이제 메시지를 작성하는 데 필요한 모든 부분이 준비되었습니다. CLI가 누가 전송하는지 알 수 있도록`--from` 플래그를 추가하여 모두 합쳐 보겠습니다.

```bash
scavengeCLI tx scavenge createScavenge 70foo "F.C. Seoul" "Best soccer team in seoul?" --from me
```

메시지가 올바른지 확인하고 암호를 입력해 서명하면 다음과 같은 내용이 출력 됩니다.

```json
{
  "height": "0",
  "txhash": "3D088632B1C523EF2754153F5454E8FA464AE69747A4BD8ABC01A3428C31C185",
  "raw_log": "[{\"msg_index\":0,\"success\":true,\"log\":\"\",\"events\":[{\"type\":\"message\",\"attributes\":[{\"key\":\"action\",\"value\":\"CreateScavenge\"}]}]}]",
  "logs": [
    {
      "msg_index": 0,
      "success": true,
      "log": "",
      "events": [
        {
          "type": "message",
          "attributes": [
            {
              "key": "action",
              "value": "CreateScavenge"
            }
          ]
        }
      ]
    }
  ]
}
```

이는 메시지가 앱에서 수락되었음을 알려줍니다. 이후에 메시지가 실패했는지 여부는이 화면에서 알 수 없습니다. 그러나 `txhash` 값을 통해 성공적으로 처리되었는지 다음 명령을 통해 확인할 수 있습니다.

```bash
scavengeCLI q tx <txhash>
```

`<txhash>`에 생성된 txhash를 넣고 조회하면 다음과 비슷한 정보를 볼 수 있습니다.

```json
{
  "height": "2622",
  "txhash": "3D088632B1C523EF2754153F5454E8FA464AE69747A4BD8ABC01A3428C31C185",
  "raw_log": "[{\"msg_index\":0,\"success\":true,\"log\":\"\",\"events\":[{\"type\":\"message\",\"attributes\":[{\"key\":\"sender\",\"value\":\"cosmos1uajgdapslnsthwscpy474t3k69u0r8z3u0aaer\"},{\"key\":\"module\",\"value\":\"scavenge\"},{\"key\":\"action\",\"value\":\"CreateScavenge\"},{\"key\":\"sender\",\"value\":\"cosmos1uajgdapslnsthwscpy474t3k69u0r8z3u0aaer\"},{\"key\":\"description\",\"value\":\"Best soccer team in seoul?\"},{\"key\":\"solutionHash\",\"value\":\"2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906\"},{\"key\":\"reward\",\"value\":\"70foo\"},{\"key\":\"action\",\"value\":\"CreateScavenge\"}]},{\"type\":\"transfer\",\"attributes\":[{\"key\":\"recipient\",\"value\":\"cosmos13aupkh5020l9u6qquf7lvtcxhtr5jjama2kwyg\"},{\"key\":\"amount\",\"value\":\"70foo\"}]}]}]",
  "logs": [
    {
      "msg_index": 0,
      "success": true,
      "log": "",
      "events": [
        {
          "type": "message",
          "attributes": [
            {
              "key": "sender",
              "value": "cosmos1uajgdapslnsthwscpy474t3k69u0r8z3u0aaer"
            },
            {
              "key": "module",
              "value": "scavenge"
            },
            {
              "key": "action",
              "value": "CreateScavenge"
            },
            {
              "key": "sender",
              "value": "cosmos1uajgdapslnsthwscpy474t3k69u0r8z3u0aaer"
            },
            {
              "key": "description",
              "value": "Best soccer team in seoul?"
            },
            {
              "key": "solutionHash",
              "value": "2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906"
            },
            {
              "key": "reward",
              "value": "70foo"
            },
            {
              "key": "action",
              "value": "CreateScavenge"
            }
          ]
        },
        {
          "type": "transfer",
          "attributes": [
            {
              "key": "recipient",
              "value": "cosmos13aupkh5020l9u6qquf7lvtcxhtr5jjama2kwyg"
            },
            {
              "key": "amount",
              "value": "70foo"
            }
          ]
        }
      ]
    }
  ],
  "gas_wanted": "200000",
  "gas_used": "28218",
  "tx": {
    "type": "cosmos-sdk/StdTx",
    "value": {
      "msg": [
        {
          "type": "scavenge/CreateScavenge",
          "value": {
            "creator": "cosmos1uajgdapslnsthwscpy474t3k69u0r8z3u0aaer",
            "description": "Best soccer team in seoul?",
            "solutionHash": "2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906",
            "reward": [
              {
                "denom": "foo",
                "amount": "70"
              }
            ]
          }
        }
      ],
      "fee": {
        "amount": [],
        "gas": "200000"
      },
      "signatures": [
        {
          "pub_key": {
            "type": "tendermint/PubKeySecp256k1",
            "value": "Ag2Ukd9c1kczh/jpSNHAFZRkm2UfnVb+LHTqQ4SPGAVj"
          },
          "signature": "W222xWoImFlcspUhkb4BImM8WcTfmq8D3pQy83Ceo/109LWcBjRlsU+qrzOf2cC0rUz8EtakQJ5pcmU0+ZSUCQ=="
        }
      ],
      "memo": ""
    }
  },
  "timestamp": "2020-01-18T17:37:36Z",
  "events": [
    {
      "type": "message",
      "attributes": [
        {
          "key": "sender",
          "value": "cosmos1uajgdapslnsthwscpy474t3k69u0r8z3u0aaer"
        },
        {
          "key": "module",
          "value": "scavenge"
        },
        {
          "key": "action",
          "value": "CreateScavenge"
        },
        {
          "key": "sender",
          "value": "cosmos1uajgdapslnsthwscpy474t3k69u0r8z3u0aaer"
        },
        {
          "key": "description",
          "value": "Best soccer team in seoul?"
        },
        {
          "key": "solutionHash",
          "value": "2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906"
        },
        {
          "key": "reward",
          "value": "70foo"
        },
        {
          "key": "action",
          "value": "CreateScavenge"
        }
      ]
    },
    {
      "type": "transfer",
      "attributes": [
        {
          "key": "recipient",
          "value": "cosmos13aupkh5020l9u6qquf7lvtcxhtr5jjama2kwyg"
        },
        {
          "key": "amount",
          "value": "70foo"
        }
      ]
    }
  ]
}
```

`Handler`에서 정의했던 이벤트 로그를 통해 메시지가 처리되었을 때 발생한 일을 확인할 수 있습니다.
메시지의 형식이 올바르고 사용자 `me`가 보상을 지불하기 충분한 `foo`가 있었기 때문에 `Scavenge`가 승인 되었습니다.
또한 hash된 solution의 정보도 볼 수 있습니다.

```json
{
    "key": "solutionHash",
    "value": "2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906"
}
```

생성한 질문에 대한 정답을 알고 있고 제출할 수 있는 다른 사용자가 있으므로 해당 솔루션을 commit하고 공개하는 프로세스를 시작합니다.
`scavengeCLI tx scavenge commitSolution --help` 명령어를 통해 `commitSolution` 사용 방법을 확인할 수있습니다.

```bash
Commits a solution for scavenge

Usage:
  scavengeCLI tx scavenge commitSolution [solution] [flags]

Flags:
  -a, --account-number uint     The account number of the signing account (offline mode only)
  -b, --broadcast-mode string   Transaction broadcasting mode (sync|async|block) (default "sync")
      --dry-run                 ignore the --gas flag and perform a simulation of a transaction, but don't broadcast it
      --fees string             Fees to pay along with transaction; eg: 10uatom
      --from string             Name or address of private key with which to sign
      --gas string              gas limit to set per-transaction; set to "auto" to calculate required gas automatically (default 200000) (default "200000")
      --gas-adjustment float    adjustment factor to be multiplied against the estimate returned by the tx simulation; if the gas limit is set manually this flag is ignored  (default 1)
      --gas-prices string       Gas prices to determine the transaction fee (e.g. 10uatom)
      --generate-only           Build an unsigned transaction and write it to STDOUT (when enabled, the local Keybase is not accessible and the node operates offline)
  -h, --help                    help for commitSolution
      --indent                  Add indent to JSON response
      --ledger                  Use a connected Ledger device
      --memo string             Memo to send along with transaction
      --node string             <host>:<port> to tendermint rpc interface for this chain (default "tcp://localhost:26657")
  -s, --sequence uint           The sequence number of the signing account (offline mode only)
      --trust-node              Trust connected full node (don't verify proofs for responses) (default true)
  -y, --yes                     Skip tx broadcasting prompt confirmation

Global Flags:
      --chain-id string   Chain ID of tendermint node
  -e, --encoding string   Binary encoding (hex|b64|btc) (default "hex")
      --home string       directory for config and data (default "/home/billy/.scavengeCLI")
  -o, --output string     Output format (text|json) (default "text")
```

`you`의 서명으로 commit을 생성하여 제출해 보겠습니다.

```bash
scavengeCLI tx scavenge commitSolution "F.C. Seoul" --from you
```

솔루션을 해싱하여 생성할 수 있으므로 `solutionHash`를 넣을 필요가 없습니다.
transaction을 확인하고 서명한수 `txhash`를 확인할 수 있습니다.
`txhash`를 확인하기 위해 `scavengeCLI q tx <txhash>`로 다시 살펴보면 다음과 같은 내용이 표시됩니다.

```json
{
  "height": "2733",
  "txhash": "2E27A06BA7047FD41DC0DAD5481D99D5E58BC84DA0D7E0F4E1AC789F7A410186",
  "raw_log": "[{\"msg_index\":0,\"success\":true,\"log\":\"\",\"events\":[{\"type\":\"message\",\"attributes\":[{\"key\":\"module\",\"value\":\"scavenge\"},{\"key\":\"action\",\"value\":\"CommitSolution\"},{\"key\":\"sender\",\"value\":\"cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79\"},{\"key\":\"solutionHash\",\"value\":\"2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906\"},{\"key\":\"solutionScavengerHash\",\"value\":\"c65363ed8f6af5d5bd5d9fc9f955106fb7f3356cb218f939a5b658d8a46365a8\"},{\"key\":\"action\",\"value\":\"CommitSolution\"}]}]}]",
  "logs": [
    {
      "msg_index": 0,
      "success": true,
      "log": "",
      "events": [
        {
          "type": "message",
          "attributes": [
            {
              "key": "module",
              "value": "scavenge"
            },
            {
              "key": "action",
              "value": "CommitSolution"
            },
            {
              "key": "sender",
              "value": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79"
            },
            {
              "key": "solutionHash",
              "value": "2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906"
            },
            {
              "key": "solutionScavengerHash",
              "value": "c65363ed8f6af5d5bd5d9fc9f955106fb7f3356cb218f939a5b658d8a46365a8"
            },
            {
              "key": "action",
              "value": "CommitSolution"
            }
          ]
        }
      ]
    }
  ],
  "gas_wanted": "200000",
  "gas_used": "17130",
  "tx": {
    "type": "cosmos-sdk/StdTx",
    "value": {
      "msg": [
        {
          "type": "scavenge/CommitSolution",
          "value": {
            "scavenger": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79",
            "solutionhash": "2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906",
            "solutionScavengerHash": "c65363ed8f6af5d5bd5d9fc9f955106fb7f3356cb218f939a5b658d8a46365a8"
          }
        }
      ],
      "fee": {
        "amount": [],
        "gas": "200000"
      },
      "signatures": [
        {
          "pub_key": {
            "type": "tendermint/PubKeySecp256k1",
            "value": "AxHwDfJwPnyoTrt5o8L7iSCiUzIOsCOPovWicfgAyIZp"
          },
          "signature": "tUmtFxvNISe8SiUMRAYFkKuDJ58tcMQHfsAU0gZ55ZEcybAwvPou3ggTvVTIxicuI1bwjl7mTiLbplxJMQo6kA=="
        }
      ],
      "memo": ""
    }
  },
  "timestamp": "2020-01-18T17:46:54Z",
  "events": [
    {
      "type": "message",
      "attributes": [
        {
          "key": "module",
          "value": "scavenge"
        },
        {
          "key": "action",
          "value": "CommitSolution"
        },
        {
          "key": "sender",
          "value": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79"
        },
        {
          "key": "solutionHash",
          "value": "2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906"
        },
        {
          "key": "solutionScavengerHash",
          "value": "c65363ed8f6af5d5bd5d9fc9f955106fb7f3356cb218f939a5b658d8a46365a8"
        },
        {
          "key": "action",
          "value": "CommitSolution"
        }
      ]
    }
  ]
}
```

`solutionHash`가 이전의 것과 일치한다는 것을 알 수 있습니다.
또한 solution과 계정 주소의 조합인 `solutionScavengerHash`에 대한 새로운 hash를 만들었습니다.
직접 쿼리하여 commit이 이루어졌는지 확인할 수 있습니다.

```bash
scavengeCLI q scavenge commited "F.C. Seoul" $(scavengeCLI keys show you -a)
```

다음과 같은 결과를 볼 수 있습니다.

```json
{
  "scavenger": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79",
  "solutionHash": "2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906",
  "solutionScavengerHash": "c65363ed8f6af5d5bd5d9fc9f955106fb7f3356cb218f939a5b658d8a46365a8"
}
```

commit이 성공적으로 승인 되었으며 다음 reveal을 기다리고 있음을 확인되었습니다.
reveal 명령을 생성하기 위해 `scavengeCLI tx scavenge revealSolution --help`를 사용하여 정보를 확인 합니다.
다음과 같은 화면이 출력되는 것을 확인할 수 있습니다.

```bash
Reveals a solution for scavenge

Usage:
  scavengeCLI tx scavenge revealSolution [solution] [flags]

Flags:
  -a, --account-number uint     The account number of the signing account (offline mode only)
  -b, --broadcast-mode string   Transaction broadcasting mode (sync|async|block) (default "sync")
      --dry-run                 ignore the --gas flag and perform a simulation of a transaction, but don't broadcast it
      --fees string             Fees to pay along with transaction; eg: 10uatom
      --from string             Name or address of private key with which to sign
      --gas string              gas limit to set per-transaction; set to "auto" to calculate required gas automatically (default 200000) (default "200000")
      --gas-adjustment float    adjustment factor to be multiplied against the estimate returned by the tx simulation; if the gas limit is set manually this flag is ignored  (default 1)
      --gas-prices string       Gas prices to determine the transaction fee (e.g. 10uatom)
      --generate-only           Build an unsigned transaction and write it to STDOUT (when enabled, the local Keybase is not accessible and the node operates offline)
  -h, --help                    help for revealSolution
      --indent                  Add indent to JSON response
      --ledger                  Use a connected Ledger device
      --memo string             Memo to send along with transaction
      --node string             <host>:<port> to tendermint rpc interface for this chain (default "tcp://localhost:26657")
  -s, --sequence uint           The sequence number of the signing account (offline mode only)
      --trust-node              Trust connected full node (don't verify proofs for responses) (default true)
  -y, --yes                     Skip tx broadcasting prompt confirmation

Global Flags:
      --chain-id string   Chain ID of tendermint node
  -e, --encoding string   Binary encoding (hex|b64|btc) (default "hex")
      --home string       directory for config and data (default "/home/billy/.scavengeCLI")
  -o, --output string     Output format (text|json) (default "text")
      --trace             print out full stack trace on errors
```

이제 solution transaction을 생성해 전송해 봅니다.

```bash
scavengeCLI tx scavenge revealSolution "F.C. Seoul" --from you
```

이제 `scavengeCLI q tx <txhash>`를 이용해 `txhash`를 조회해 봅니다.

```json
{
  "height": "2810",
  "txhash": "086B122735C728B2556E04D537E53D6C91C3B46CE0ED0BB6C5001006A4BD2B0F",
  "raw_log": "[{\"msg_index\":0,\"success\":true,\"log\":\"\",\"events\":[{\"type\":\"message\",\"attributes\":[{\"key\":\"sender\",\"value\":\"cosmos13aupkh5020l9u6qquf7lvtcxhtr5jjama2kwyg\"},{\"key\":\"module\",\"value\":\"scavenge\"},{\"key\":\"action\",\"value\":\"SolveScavenge\"},{\"key\":\"sender\",\"value\":\"cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79\"},{\"key\":\"solutionHash\",\"value\":\"2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906\"},{\"key\":\"description\",\"value\":\"Best soccer team in seoul?\"},{\"key\":\"solution\",\"value\":\"F.C. Seoul\"},{\"key\":\"scavenger\",\"value\":\"cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79\"},{\"key\":\"reward\",\"value\":\"70foo\"},{\"key\":\"action\",\"value\":\"RevealSolution\"}]},{\"type\":\"transfer\",\"attributes\":[{\"key\":\"recipient\",\"value\":\"cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79\"},{\"key\":\"amount\",\"value\":\"70foo\"}]}]}]",
  "logs": [
    {
      "msg_index": 0,
      "success": true,
      "log": "",
      "events": [
        {
          "type": "message",
          "attributes": [
            {
              "key": "sender",
              "value": "cosmos13aupkh5020l9u6qquf7lvtcxhtr5jjama2kwyg"
            },
            {
              "key": "module",
              "value": "scavenge"
            },
            {
              "key": "action",
              "value": "SolveScavenge"
            },
            {
              "key": "sender",
              "value": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79"
            },
            {
              "key": "solutionHash",
              "value": "2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906"
            },
            {
              "key": "description",
              "value": "Best soccer team in seoul?"
            },
            {
              "key": "solution",
              "value": "F.C. Seoul"
            },
            {
              "key": "scavenger",
              "value": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79"
            },
            {
              "key": "reward",
              "value": "70foo"
            },
            {
              "key": "action",
              "value": "RevealSolution"
            }
          ]
        },
        {
          "type": "transfer",
          "attributes": [
            {
              "key": "recipient",
              "value": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79"
            },
            {
              "key": "amount",
              "value": "70foo"
            }
          ]
        }
      ]
    }
  ],
  "gas_wanted": "200000",
  "gas_used": "30740",
  "tx": {
    "type": "cosmos-sdk/StdTx",
    "value": {
      "msg": [
        {
          "type": "scavenge/RevealSolution",
          "value": {
            "scavenger": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79",
            "solutionHash": "2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906",
            "solution": "F.C. Seoul"
          }
        }
      ],
      "fee": {
        "amount": [],
        "gas": "200000"
      },
      "signatures": [
        {
          "pub_key": {
            "type": "tendermint/PubKeySecp256k1",
            "value": "AxHwDfJwPnyoTrt5o8L7iSCiUzIOsCOPovWicfgAyIZp"
          },
          "signature": "w0wgQzYL2OeNYsnSJ3WwQo9tNv3RC+Qu6Oo+AdsyFDduASZ4p4vioBxGq/iMn4bNOG5mCKS6eUJZmHN0x6gx9g=="
        }
      ],
      "memo": ""
    }
  },
  "timestamp": "2020-01-18T17:53:21Z",
  "events": [
    {
      "type": "message",
      "attributes": [
        {
          "key": "sender",
          "value": "cosmos13aupkh5020l9u6qquf7lvtcxhtr5jjama2kwyg"
        },
        {
          "key": "module",
          "value": "scavenge"
        },
        {
          "key": "action",
          "value": "SolveScavenge"
        },
        {
          "key": "sender",
          "value": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79"
        },
        {
          "key": "solutionHash",
          "value": "2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906"
        },
        {
          "key": "description",
          "value": "Best soccer team in seoul?"
        },
        {
          "key": "solution",
          "value": "F.C. Seoul"
        },
        {
          "key": "scavenger",
          "value": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79"
        },
        {
          "key": "reward",
          "value": "70foo"
        },
        {
          "key": "action",
          "value": "RevealSolution"
        }
      ]
    },
    {
      "type": "transfer",
      "attributes": [
        {
          "key": "recipient",
          "value": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79"
        },
        {
          "key": "amount",
          "value": "70foo"
        }
      ]
    }
  ]
}
```

transaction이 정상적으로 실행 되었으며, `you`의 계정으로 reward가 이동한 이벤트 로그를 볼 수 있습니다.
`you`가 이제 `70foo`를 더 가지고 있는지 확인하려면 다음과 같이 계정 잔액을 쿼리 할 수 있습니다.

```bash
scavengeCLI q account $(scavengeCLI keys show you -a)
```

`you` 계정에 `1foo`에서 `71foo`로 증가한 것을 확인할 수 있습니다.

```json
{
  "type": "cosmos-sdk/Account",
  "value": {
    "address": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79",
    "coins": [
      {
        "denom": "foo",
        "amount": "71"
      }
    ],
    "public_key": {
      "type": "tendermint/PubKeySecp256k1",
      "value": "AxHwDfJwPnyoTrt5o8L7iSCiUzIOsCOPovWicfgAyIZp"
    },
    "account_number": "1",
    "sequence": "5"
  }
}
```

완료된 scavenge를 살펴보고 싶다면 먼저 다음을 사용하여 모든 scavenges를 쿼리 할 수 있습니다.

```bash
scavengeCLI q scavenge list
```

특정 scavenge를 조회하기 위해서는 다음과 같이 쿼리할 수 있습니다.

```bash
scavengeCLI q scavenge get 2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906
```

실제로 scavenge가 완료되었음을 확인할 수 있습니다.

```json
{
  "creator": "cosmos1uajgdapslnsthwscpy474t3k69u0r8z3u0aaer",
  "description": "Best soccer team in seoul?",
  "solutionHash": "2f9457a6e8fb202f9e10389a143a383106268c460743dd59d723c0f82d9ba906",
  "reward": [
    {
      "denom": "foo",
      "amount": "70"
    }
  ],
  "solution": "F.C. Seoul",
  "scavenger": "cosmos1m9pxr3nrra2cl07kh8hzdty5x0mejf44997f79"
}
```

![carmen](/assets/images/scavenge/carmen.jpg)

---

지금까지 블록체인을 구현하고 실해봤습니다
Cosmos SDK에 대해 자세히 알아보려면 [코스모스 문서](https://docs.cosmos.network)에서 확인할 수 있습니다.
